import{j as n,L as h,a as s,b as m,r as o}from"./index-3ac55067.js";import{u as f}from"./useDispatch-ed1776ee.js";const p=({product:t})=>{const r=f();return n("div",{className:"product-card",children:[n(h,{to:`/product/${t.id}`,children:[s("img",{src:t.thumbnail,alt:t.title}),s("h3",{children:t.title})]}),n("p",{children:["$",t.price]}),s("button",{onClick:()=>r(m(t)),children:"Add to Cart"})]})},g=t=>{const[r,e]=o.useState([]),[c,d]=o.useState(!0),[l,u]=o.useState(null);return o.useEffect(()=>{(async()=>{try{const a=await fetch(t);if(!a.ok)throw new Error("Failed to fetch");const i=await a.json();e(i.products||i)}catch(a){u(a.message)}finally{d(!1)}})()},[t]),{data:r,loading:c,error:l}};const v=()=>{const{data:t,loading:r,error:e}=g("https://dummyjson.com/products");return r?s("div",{className:"center",children:"Loading products..."}):e?s("div",{className:"center error",children:e}):s("div",{className:"product-list container",children:t.map(c=>s(p,{product:c},c.id))})};export{v as default};
